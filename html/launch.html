$def with (open_tunnel, region)
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Wormhole admin interface">

    <title>Launch | Wormhole</title>

	<link rel="stylesheet" href="/static/css/pure-min.css">
	<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
	<link rel="stylesheet" href="/static/css/baby-blue.css">
	<link rel="stylesheet" href="/static/css/wormhole.css">
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
</head>

<body>

<div class="pure-g-r" id="layout">
    <a href="#menu" id="menuLink" class="pure-menu-link">
    <span></span>
	</a>

	<div class="pure-u" id="menu">
    	<div class="pure-menu pure-menu-open">
        	<a class="pure-menu-heading" href="/"><img src="/static/img/wormhole.png" alt="Wormhole logo" /></a>

	        <ul>
	            <li class="pure-menu-selected ">
	                <a href="/launch"><i class="fa fa-rocket"></i>Start</a>
	            </li>

	            <li class=" ">
	                <a href="/settings"><i class="fa fa-wrench"></i>Settings</a>
	            </li>	          

	        	<li class=" ">
	                <a href="/"><i class="fa fa-dashboard"></i>Status</a>
	            </li>

	            <li class=" ">
	                <a href="/about"><i class="fa fa-info-circle"></i>About</a>
	            </li>	          
	        </ul>
    	</div>
	</div>


    <div class="pure-u-1" id="main">


		<div class="header">
		    <h1>Open Wormhole</h1>		  
		    $if region:
		    	<h2>Create a new tunnel to $region.</h2>		  
		</div>

		<div class="content" id="launch-content">
			$if not open_tunnel:
				<ul id="launch-checklist">
					<li class="pending" id="settings"><i class="fa fa-exclamation-circle"></i><i class="fa fa-circle"></i><i class="fa fa-circle-o"></i><i class="fa fa-check-circle"></i>Validating settings</li>
					<li class="pending" id="orphans"><i class="fa fa-exclamation-circle"></i><i class="fa fa-circle"></i><i class="fa fa-circle-o"></i><i class="fa fa-check-circle"></i>Checking for orphan instances</li>
					<li class="pending" id="instance"><i class="fa fa-exclamation-circle"></i><i class="fa fa-circle"></i><i class="fa fa-circle-o"></i><i class="fa fa-check-circle"></i>Starting instance</li>
					<li class="pending" id="booted"><i class="fa fa-exclamation-circle"></i><i class="fa fa-circle"></i><i class="fa fa-circle-o"></i><i class="fa fa-check-circle"></i>Instance boot sequence complete</li>
					<li class="pending" id="openvpn"><i class="fa fa-exclamation-circle"></i><i class="fa fa-circle"></i><i class="fa fa-circle-o"></i><i class="fa fa-check-circle"></i>Creating VPN tunnel</li>
					<li class="pending" id="routing"><i class="fa fa-exclamation-circle"></i><i class="fa fa-circle"></i><i class="fa fa-circle-o"></i><i class="fa fa-check-circle"></i>Routing traffic through tunnel</li>
				</ul>

				<a class="pure-button pure-button-primary" id="open-wormhole" href="#">Open Wormhole</a>

				<a class="pure-button pure-button-primary" id="close-wormhole" href="#">Close Wormhole</a>

				<script type="text/javascript">
				var interval = null;
				$$(function(){
					$$('a#open-wormhole').click(function(){
						window.clearInterval(interval);						
						$$.post('/launch', {'activate': 1}, function(data){
							if(data.result=='error'){
								alert('Error detected.');
							}
							else if(data.result=='already open'){
								alert('Tunnel is already open.');
							}else if(data.result=='starting'){
								interval = window.setInterval(function(){
									$$.get('/ajax/launch-status', function(data){
										var all_ok = true;
										for(var stepname in data){
											$$('li#' + stepname).removeClass('working error ok pending').addClass(data[stepname]);
											if(data[stepname]!='ok')
												all_ok = false;
											if(data[stepname]=='error')
												window.clearInterval(interval);
										}
										if(all_ok)
											window.clearInterval(interval);
									});
								}, 1000);
							}
						});
					});

					$$('a#close-wormhole').click(function(){
						window.clearInterval(interval);
						$$.post('/launch', {'deactivate': 1}, function(data){
							if(data.result=='error'){
								alert('Error detected.');
							}
							else if(data.result=='already closed'){
								alert('Tunnel is already closed.');
							}else if(data.result=='stopping'){
								interval = window.setInterval(function(){
									$$.get('/ajax/launch-status', function(data){
										var all_pending = true;
										for(var stepname in data){											
											$$('li#' + stepname).removeClass('working error ok pending').addClass(data[stepname]);
											if(data[stepname]!='pending')
												all_pending = false;
											if(data[stepname]=='error')
												window.clearInterval(interval);
										}
										if(all_pending)
											window.clearInterval(interval);

									});
								}, 1000);
							}
						});
					});
				});
				</script>
			$else:
				a tunnel is already open!
    		
	    </div>
    </div>
</div>

</body>
</html>